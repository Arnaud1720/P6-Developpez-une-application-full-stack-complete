<header>
  <div class="header-container">
    <div class="logo-container">
      <img src="./assets/logo_p6.png" alt="icone">
    </div>

    <button
      class="burger-menu"
      [class.active]="isMobileMenuOpen"
      (click)="toggleMobileMenu()"
      mat-icon-button
    >
      <mat-icon>{{ isMobileMenuOpen ? 'close' : 'menu' }}</mat-icon>
    </button>

    <nav class="desktop-nav">
      <a *ngIf="api.isLoggedIn()" mat-button routerLink="/posts">Articles</a>
      <a *ngIf="api.isLoggedIn()" mat-button routerLink="/themes">Thèmes</a>

      <button *ngIf="api.isLoggedIn()" mat-button (click)="logout()">
        Se déconnecter
      </button>

      <a *ngIf="!api.isLoggedIn()" mat-button routerLink="/login">Se connecter</a>
      <a *ngIf="!api.isLoggedIn()" mat-button routerLink="/register">S'inscrire</a>

      <button
        *ngIf="api.isLoggedIn()"
        mat-icon-button
        routerLink="/profil"
      >
        <mat-icon>account_circle</mat-icon>
      </button>
    </nav>
  </div>

  <!-- Overlay pour fermer le menu en cliquant à côté -->
  <div
    class="mobile-nav-overlay"
    [class.open]="isMobileMenuOpen"
    (click)="closeMobileMenu()">
  </div>

  <nav class="mobile-nav" [class.open]="isMobileMenuOpen">
    <div class="mobile-nav-content">
      <!-- Menu items connecté -->
      <div class="menu-items" *ngIf="api.isLoggedIn()">
        <button
          class="disconnect-button"
          mat-button
          (click)="logout(); closeMobileMenu()">
          Se déconnecter
        </button>

        <a mat-button
           routerLink="/posts"
           (click)="closeMobileMenu()">
          Articles
        </a>

        <a mat-button
           routerLink="/themes"
           (click)="closeMobileMenu()">
          Thèmes
        </a>
      </div>

      <!-- Menu items non connecté -->
      <div class="menu-items" *ngIf="!api.isLoggedIn()">
        <a mat-button
           routerLink="/login"
           (click)="closeMobileMenu()">
          Se connecter
        </a>
        <a mat-button
           routerLink="/register"
           (click)="closeMobileMenu()">
          S'inscrire
        </a>
      </div>

      <!-- Icône profil en bas -->
      <div class="bottom-items" *ngIf="api.isLoggedIn()">
        <a
          class="profile-button"
          routerLink="/profil"
          (click)="closeMobileMenu()"
        >
          <mat-icon>account_circle</mat-icon>
        </a>
      </div>
    </div>
  </nav>
</header>
